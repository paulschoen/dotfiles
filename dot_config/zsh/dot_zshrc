export ZSH_CONFIG_HOME="${ZDOTDIR:-${XDG_CONFIG_HOME:-$HOME/.config}/zsh}"
export ZSHRC_D="$ZSH_CONFIG_HOME/zshrc.d"

[[ -d "$ZSHRC_D" ]] || mkdir -p "$ZSHRC_D"
[[ -d "$ZSH_CONFIG_HOME/functions" ]] || mkdir -p "$ZSH_CONFIG_HOME/functions"

# Load modular config (sorted by filename).
for file in "$ZSHRC_D"/*.zsh(N); do
  source "$file"
done
